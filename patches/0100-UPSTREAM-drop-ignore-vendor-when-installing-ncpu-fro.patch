From 7ff1104187c292ef736d30d4e0d4e2470885af86 Mon Sep 17 00:00:00 2001
From: Fabio Bertinatto <fbertina@redhat.com>
Date: Fri, 21 Jul 2023 14:10:51 -0300
Subject: [PATCH] UPSTREAM: <drop>: ignore vendor when installing ncpu from
 hack/tools

---
 hack/lib/golang.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/hack/lib/golang.sh b/hack/lib/golang.sh
index c8cdeef545e..67434c7998d 100755
--- a/hack/lib/golang.sh
+++ b/hack/lib/golang.sh
@@ -564,7 +564,7 @@ kube::golang::setup_env() {
   if ! command -v ncpu >/dev/null 2>&1; then
     # shellcheck disable=SC2164
     pushd "${KUBE_ROOT}/hack/tools" >/dev/null
-    GO111MODULE=on go install ./ncpu
+    GO111MODULE=on GOFLAGS=-mod=readonly go install ./ncpu
     # shellcheck disable=SC2164
     popd >/dev/null
   fi
-- 
2.41.0

